"use strict";(self.webpackChunkpractice_project_react_router=self.webpackChunkpractice_project_react_router||[]).push([[224],{912:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var s=n(885),o=n(791),c=n(995),m=n(853),r=n(147),a="Comments_comments__4OmDP",l="CommentItem_item__K0ly6",d=n(184),u=function(e){return(0,d.jsx)("li",{className:l,children:(0,d.jsx)("p",{children:e.text})})},i="CommentsList_comments__DsIem",f=function(e){return(0,d.jsx)("ul",{className:i,children:e.comments.map((function(e){return(0,d.jsx)(u,{text:e.text},e.id)}))})},x="NewCommentForm_form__ohPTw",_="NewCommentForm_control__L0nlx",h="NewCommentForm_actions__-h0lU",j=function(e){var t=(0,c.Z)(m.Ir),n=t.sendRequest,s=t.status,a=t.error,l=(0,o.useRef)(),u=e.onAddedComment,i=e.quoteId;console.log(e),(0,o.useEffect)((function(){"completed"!==s||a||u()}),[s,a,u]);var f=function(e){e.preventDefault();var t=l.current.value;""!==t&&n({commentData:{text:t},quoteId:i})};return(0,d.jsxs)("form",{className:x,onSubmit:f,children:["pending"===s&&(0,d.jsx)("div",{className:"centered",children:(0,d.jsx)(r.default,{})}),(0,d.jsxs)("div",{className:_,onSubmit:f,children:[(0,d.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),(0,d.jsx)("textarea",{id:"comment",rows:"5",ref:l})]}),(0,d.jsx)("div",{className:h,children:(0,d.jsx)("button",{className:"btn",children:"Add Comment"})})]})},C=function(e){var t=(0,c.Z)(m.h_),n=t.sendRequest,l=t.data,u=t.status,i=(0,o.useState)(!1),x=(0,s.Z)(i,2),_=x[0],h=x[1],C=e.quoteId;console.log(e),(0,o.useEffect)((function(){n(C)}),[n,C]);var p=(0,o.useCallback)((function(){n(C),h(!1)}),[n,C]),N="Comments...";return"pending"===u&&(N=(0,d.jsx)("div",{className:"centered",children:(0,d.jsx)(r.default,{})})),"completed"===u&&l&&l.length>0&&(N=(0,d.jsx)(f,{comments:l})),"completed"!==u||l&&0!==l.length||(N=(0,d.jsx)("p",{children:"No Comments added yet..."})),(0,d.jsxs)("section",{className:a,children:[(0,d.jsx)("h2",{children:"User Comments"}),!_&&(0,d.jsx)("button",{className:"btn",onClick:function(){h(!0)},children:"Add a Comment"}),_&&(0,d.jsx)(j,{onAddedComment:p,quoteId:C}),N]})}}}]);
//# sourceMappingURL=224.af21ffca.chunk.js.map